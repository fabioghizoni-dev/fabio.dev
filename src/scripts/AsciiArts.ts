const a: string[] = [
  " █████╗ ",
  "██╔══██╗",
  "███████║",
  "██╔══██║",
  "██║  ██║",
  "╚═╝  ╚═╝",
];
const b: string[] = [
  "██████╗ ",
  "██╔══██╗",
  "██████╔╝",
  "██╔══██╗",
  "██████╔╝",
  "╚═════╝ ",
];
const c: string[] = [
  " ██████╗ ",
  "██╔════╝ ",
  "██║      ",
  "██║      ",
  "╚██████╗ ",
  " ╚═════╝ ",
];
const d: string[] = [
  "██████╗ ",
  "██╔══██╗",
  "██║  ██║",
  "██║  ██║",
  "██████╔╝",
  "╚═════╝ ",
];
const e: string[] = [
  "███████╗",
  "██╔════╝",
  "█████╗  ",
  "██╔══╝  ",
  "███████╗",
  "╚══════╝",
];
const f: string[] = [
  "███████╗",
  "██╔════╝",
  "█████╗  ",
  "██╔══╝  ",
  "██║     ",
  "╚═╝     ",
];
const g: string[] = [
  " ██████╗ ",
  "██╔════╝ ",
  "██║  ███╗",
  "██║   ██║",
  "╚██████╔╝",
  " ╚═════╝ ",
];
const h: string[] = [
  "██╗  ██╗",
  "██║  ██║",
  "███████║",
  "██╔══██║",
  "██║  ██║",
  "╚═╝  ╚═╝",
];
const i: string[] = ["██╗", "██║", "██║", "██║", "██║", "╚═╝"];
const k: string[] = [
  "██╗  ██╗",
  "██║ ██╔╝",
  "█████╔╝ ",
  "██╔═██╗ ",
  "██║  ██╗",
  "╚═╝  ╚═╝",
];
const l: string[] = [
  "██╗     ",
  "██║     ",
  "██║     ",
  "██║     ",
  "███████╗",
  "╚══════╝",
];
const m: string[] = [
  "███╗   ███╗",
  "████╗ ████║",
  "██╔████╔██║",
  "██║╚██╔╝██║",
  "██║ ╚═╝ ██║",
  "╚═╝     ╚═╝",
];
const n: string[] = [
  "███╗   ██╗",
  "████╗  ██║",
  "██╔██╗ ██║",
  "██║╚██╗██║",
  "██║ ╚████║",
  "╚═╝  ╚═══╝",
];
const o: string[] = [
  " ██████╗ ",
  "██╔═══██╗",
  "██║   ██║",
  "██║   ██║",
  "╚██████╔╝",
  " ╚═════╝ ",
];
const p: string[] = [
  "██████╗ ",
  "██╔══██╗",
  "██████╔╝",
  "██╔═══╝ ",
  "██║     ",
  "╚═╝     ",
];
const q: string[] = [
  " ██████╗ ",
  "██╔═══██╗",
  "██║   ██║",
  "██║▄▄ ██║",
  "╚██████╔╝",
  " ╚══▀▀═╝ ",
];
const r: string[] = [
  "██████╗ ",
  "██╔══██╗",
  "██████╔╝",
  "██╔══██╗",
  "██║  ██║",
  "╚═╝  ╚═╝",
];
const s: string[] = [
  "███████╗",
  "██╔════╝",
  "███████╗",
  "╚════██║",
  "███████║",
  "╚══════╝",
];
const t: string[] = [
  "████████╗",
  "╚══██╔══╝",
  "   ██║   ",
  "   ██║   ",
  "   ██║   ",
  "   ╚═╝   ",
];
const u: string[] = [
  "██╗   ██╗",
  "██║   ██║",
  "██║   ██║",
  "██║   ██║",
  "╚██████╔╝",
  " ╚═════╝ ",
];
const v: string[] = [
  "██╗   ██╗",
  "██║   ██║",
  "██║   ██║",
  "╚██╗ ██╔╝",
  " ╚████╔╝ ",
  "  ╚═══╝  ",
];
const w: string[] = [
  "██╗    ██╗",
  "██║    ██║",
  "██║ █╗ ██║",
  "██║███╗██║",
  "╚███╔███╔╝",
  " ╚══╝╚══╝ ",
];
const x: string[] = [
  "██╗  ██╗",
  "╚██╗██╔╝",
  " ╚███╔╝ ",
  " ██╔██╗ ",
  "██╔╝ ██╗",
  "╚═╝  ╚═╝",
];
const z: string[] = [
  "███████╗",
  "╚══███╔╝",
  "  ███╔╝ ",
  " ███╔╝  ",
  "███████╗",
  "╚══════╝",
];
const slash: string[] = [
  "    ██╗",
  "   ██╔╝",
  "  ██╔╝ ",
  " ██╔╝  ",
  "██╔╝   ",
  "╚═╝    ",
];
const question: string[] = [
  "██████╗ ",
  "╚════██╗",
  "  ▄███╔╝",
  "  ▀▀══╝ ",
  "  ██╗   ",
  "  ╚═╝   ",
];
const exclamation: string[] = ["██╗", "██║", "██║", "╚═╝", "██╗", "╚═╝"];
const dash: string[] = [
  "        ",
  "        ",
  "███████╗",
  "╚══════╝",
  "        ",
  "        ",
];
const space: string[] = ["     ", "     ", "     ", "     ", "     ", "     "];
const point: string[] = ["   ", "   ", "   ", "   ", "██╗", "╚═╝"];
const parenthesis_left: string[] = [
  "  ██╗",
  " ██╔╝",
  " ██║ ",
  " ██║ ",
  " ╚██╗",
  "  ╚═╝",
];
const parenthesis_right: string[] = [
  "██╗  ",
  "╚██╗ ",
  " ██║ ",
  " ██║ ",
  "██╔╝ ",
  "╚═╝  ",
];

export const bar: string = ["█╗", "█║", "█║", "█║", "█║", "█║", "╚╝"].join(
  "\n",
);

let current: number = 0;
const letters: Record<string, string[]> = {
  a,
  b,
  c,
  d,
  e,
  f,
  g,
  h,
  i,
  k,
  l,
  m,
  n,
  o,
  p,
  q,
  r,
  s,
  t,
  u,
  v,
  w,
  x,
  z,
  "-": dash,
  ".": point,
  "/": slash,
  " ": space,
  "?": question,
  "!": exclamation,
  "(": parenthesis_left,
  ")": parenthesis_right,
};

export const languages = {
  es: [
    { code: "es-ES", name: "Español (España)" },
    { code: "es-MX", name: "Español (México)" },
  ],
  fr: [
    { code: "fr-FR", name: "Français (France)" },
    { code: "fr-CA", name: "Français (Canada)" },
  ],
  pt: [
    { code: "pt-BR", name: "Português (Brasil)" },
    { code: "pt-PT", name: "Português (Portugal)" },
  ],
  en: [
    { code: "en-US", name: "English (US)" },
    { code: "en-GB", name: "English (UK)" },
    { code: "en-AU", name: "English (Australia)" },
  ],
  zh: [
    { code: "zh-CN", country: "China", name: "中文 (简体)" },
    { code: "zh-TW", country: "Taiwan", name: "中文 (繁體)" },
  ],
  hi: [{ code: "hi-IN", country: "India", name: "हिन्दी (भारत)" }],
  ja: [{ code: "ja-JP", country: "Japan", name: "日本語 (日本)" }],
  ru: [{ code: "ru-RU", country: "Russia", name: "Русский (Россия)" }],
  ko: [{ code: "ko-KR", country: "South Korea", name: "한국어 (대한민국)" }],
  de: [{ code: "de-DE", country: "Germany", name: "Deutsch (Deutschland)" }],
};

export const keywords: string[] = ["", "Let's", "Hello"];
export const fabio: string = f
  .map(
    (_, y) =>
      `${c[y]} ${o[y]} ${n[y]} ${v[y]} ${e[y]} ${r[y]} ${s[y]} ${a[y]} ${r[y]}`,
  )
  .join("\n");

/**
 * @param {HTMLElement} elKeywords - HTML element in which words will alternate.
 */
export function keywordAlternate(
  elKeywords: HTMLElement | null = document.getElementById("keywords"),
) {
  if (!elKeywords) return;

  current = (current + 1) % keywords.length;
  elKeywords.textContent = keywords[current];

  elKeywords.classList.remove("animate-blur");
  void elKeywords.offsetWidth;
  elKeywords.classList.add("animate-blur");
}

/**
 * @param {string[]} words - List of words to toggle in the animation.
 * @param {string} id - ID of the HTML element where the animation will be displayed.
 * @param {number} delay - Time (in ms) between each letter being "typed".
 * @param {number} pause - Time (in ms) of pause after the word is displayed.
 */
export async function animateAsciiText(
  words: string[] = ["WELCOME", "TALK?", "WORLD!"],
  id: string = "ascii-art",
  delay: number = 300,
  pause: number = 1500,
) {
  const elAscii = document.getElementById(id);

  if (!elAscii) {
    console.error(`Element does not exist or was not rendered, id:${id}`);
    return;
  }

  while (true) {
    for (const word of words) {
      let current = Array(6).fill("");
      const chars = word.toLowerCase().split("");

      for (const char of chars) {
        const block = letters[char];
        if (!block) continue;

        for (let i = 0; i < 6; i++) {
          current[i] += block[i] + " ";
        }

        elAscii.textContent = "";
        elAscii.textContent = current.join("\n");
        await new Promise((resolve) => setTimeout(resolve, delay));
      }

      await new Promise((resolve) => setTimeout(resolve, pause));
      elAscii.textContent = "";
      keywordAlternate();
    }
  }
}

if (typeof window !== "undefined" && typeof document !== "undefined") {
  animateAsciiText();
}
